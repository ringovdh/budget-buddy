<form [formGroup]="createCommentForm" (ngSubmit)="submit()">

  <div class="modal-header">
    <div class="modal-header-left">
      <h3>Commentaar toevoegen</h3>
    </div>
  </div>

  <div class="modal-body">
    <div class="form-group">
      <label for="searchterm">Zoekterm:</label>
      <input
        formControlName="searchterm"
        id="searchterm"
        type="text"
        class="form-control">
      @if (formControls['searchterm'].touched && formControls['searchterm'].invalid) {
        <div class="alert alert-danger">
          @if (formControls['searchterm'].hasError('required')) {
            <div>Zoekterm is verplicht.</div>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="replacement">Commentaar</label>
      <textarea
        formControlName="replacement"
        id="replacement"
        class="form-control">
      </textarea>
      @if (formControls['replacement'].touched && formControls['replacement'].invalid) {
        <div class="alert alert-danger">
          @if (formControls['replacement'].hasError('required')) {
            <div>Commentaar is verplicht.</div>
          }
        </div>
      }
    </div>

    <div class="form-group">
      <label for="category" class="form-label">Categorie</label>
      <select
        formControlName="category"
        id="category"
        class="form-select">
        <option [ngValue]=null disabled>Selecteer een categorie</option>
        @for (cat of categories; track cat) {
          <option [ngValue]="cat">{{ cat.label }}</option>
        }
      </select>
      @if (formControls['category'].touched && formControls['category'].invalid) {
        <div class="alert alert-danger">
          @if (formControls['category'].hasError('required')) {
            <div>Categorie is verplicht.</div>
          }
        </div>
      }
    </div>
  </div>
  <div class="modal-budget-footer">
    <button class="btn btn-sm btn-primary" type="submit" [disabled]="!createCommentForm.valid">
      <i class="fa fa-plus-circle"></i> Bewaar commentaar
    </button>
    <button class="btn btn-sm btn-primary" type="button" (click)="close()">
      <i class="fa fa-times-circle"></i> Annuleren
    </button>
  </div>
</form>
